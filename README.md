# Проект `Банковские операции `

## Описание: 
Программа создана для фильтрации и сортировки банковских счетов по дате и оплате.

## Project dependencies:
- The program uses the version Python 3.12.4
- flake8 = "7.1.0"
- black = "24.4.2"
- isort = "5.13.2"
- mypy = "1.10.0"

## Функции, которые мы будем использовать в этой версии кода:

- Функция скрывающая номер карты и счета
- Функция сортировки по дате
- Функция фильтрации в операциях по счетам

## Структура проекта
По завершении этого проекта будет добавлен pytest, для запуска тестов и новый функционал

# Инструкция по установке
Скачать репозиторий:
https://github.com/MaratZ/homework_10_1 

Затем вам необходимо установить основные зависимости для запуска проекта в вашей системе:

```pip install -r requirements.txt```

Подождите, пока наборы данных загрузятся, это может занять некоторое время. 

## Команда проекта:

`

## Контакт для связи с командой разработки:


Тестирование
Для запуска теста необходимо зайти в директорию test

Выбрать файл на выбор где в начале написано test_...

### Написать в терминале 'pytest' pytest это фреймворк с помощью которого мы проверяем функции в коде

# Описание модулей
## Модуль masks(изменение)
1. Принимает номер карты отдает на выход маску номера карты
  - функция get_mask_card_number
  - пример маски номера 7000 79** **** 6361
2. Принимает номер счета отдает на выход маску номера счета
- функция get_mask_account
- пример маски номера **4305

В модуль добавлен логгер, который записывает логи в файл.

```
logger = logging.getLogger("masks")
logger.setLevel(logging.INFO)
file_handler = logging.FileHandler(
    "../logs/masks.log", encoding="utf-8"
)
file_formatter = logging.Formatter(
    "%(asctime)s - %(name)s - %(levelname)s: %(message)s"
)
file_handler.setFormatter(file_formatter)
logger.addHandler(file_handler)
```

### Модуль widget 
1. Принимает имя и номер карты или счета отдает на выход имя и маску номера карты или счета
- функция mask_account_card
- привер ввода: Visa Platinum 7000 7922 8960 6361
- Счет 73654108430135874305
- Visa Classic 6831982476737658
2. Маску номера получает в модуле masks

#### Модуль processing
1. Принимает список словарей и возвращает отсортированный по ключу "state"
2. функция filter_by_state
3. Принимает список словарей и возвращает отсортированный по ключу "date"
- функция sort_by_date
- сортировка True - по убыванию, False - по возрастанию

#### Модуль generators
1. Функция filter_by_currency выдает транзакции, где валюта операции соответствует заданной.
2. Функция transaction_descriptions принимает список словарей с транзакциями и возвращает описание 
   каждой операции по очереди.
3. Функция card_number_generator может сгенерировать номера карт в заданном диапазоне
    от 0000 0000 0000 0001 до 9999 9999 9999 9999.


#### Модуль decorators
1. Декоратор @log, автоматически логирует начало и конец выполнения функции,
    а также ее результаты или возникшие ошибки.
2. Декоратор может логировать работу функции и ее результат как в файл, так и в консоль.
3. Декоратор log принимает необязательный аргумент filename, который определяет имя файла, в который будут записываться логи.
4. Если filename не задан, то логи выводятся в консоль.
5. Если вызов функции закончился ошибкой, записывается сообщение об ошибке и входные параметры функции.

## Модуль utils(изменение)
1. Функция financial_transactions принимает на вход путь до JSON-файла и возвращает список словарей с данными о 
финансовых транзакциях.
2. JSON-файл находится в директории data.
3. Функция transaction_amount принимает на вход транзакцию и возвращает сумму транзакции в рублях.
4. В модуль добавлен логгер, который записывает логи в файл.

```
logger = logging.getLogger("utils")
logger.setLevel(logging.INFO)
file_handler = logging.FileHandler(
    "../logs/utils.log", encoding="utf-8"
)
file_formatter = logging.Formatter(
    "%(asctime)s - %(name)s - %(levelname)s: %(message)s"
)
file_handler.setFormatter(file_formatter)
logger.addHandler(file_handler)
```

## Модуль external_api
1. Функция конвертации currency_conversion, используется функцией transaction_amount, если валюта транзакции не рубль.

##### Docstring и аннотации типов
1. все функции должны содержать docstring и корректные аннотации типов. 
2. Пример docstring:
    ```python
   def example_function(param1: int, param2: str) -> bool:
         """
         Описание функции.
         :param param1: Описание параметра 1
         :param param2: Описание параметра 2
         :return: Описание возвращаемого значения
         """
         pass
     ```

